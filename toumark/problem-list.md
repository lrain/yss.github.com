---
layout: blog
title: 2012-10-10问题总结
---
### 需要做的
#### 一、服务器及数据相关
* 服务器端口变80

变换后，可以用于申请QQ和微博的联合登录接口
另外，这里面牵扯到了图片地址转换需要考虑
* 配置静态图片地址域名

建议是使用:http://i0.youjiaoyin.cn http://i1.youjiaoyin.cn
* 删除数据库里的图片url前缀

目前数据库里的图片url前缀都是以223.4.170.129开头的一律只写路径名
* 图片反处理（防盗链）

这个如花可以快速搞定
* 图片水印设计和位置摆放

盛强已设计好，需要如花配合加上水印

#### 二、功能部分
* 联合登录

目前，完成豆瓣的联合登录，先试着使用豆瓣。
可以根据豆瓣的信息尝试放入数据库中。
* 想去和去过的接口

这个后期跟小妮讨论的是，用户只能选想去或去过，这样的话，在接口设计的时候就需要考虑如果用户之前选中了去过，后来又点想去时，相当是一个更新的操作。
* 首页想去，去过链接，需要得到景点标题信息

如果是需要联合查表的可以考虑我这边去通过cookie去把标题信息，传输到服务器的方式处理。
* 头像图片存放地址及规范

和如花商定是采用id和图片对应，比如：/static/u/2/180.jpg 代表的是id为2的用户的180头像。

还有就是用户其实都是第三方用户，直接用id方式感觉又不是很可取。

但具体实施方案没有给出。
* 个人收藏版里左边用户信息获取不全

目前，缺少了用户头像信息，用户签名，去过和想去的个数。

新鲜事个数，商洽一下是否也需要，因为登录用户首先访问的就是自己的新鲜事。
* nodejs版的图片裁剪功能

这个如花去做，说明在下面。
* 上传接口

这个需要开发一个nodejs版的图片裁剪功能，已跟如花确定使用的程序，但是需要进一步封装一些操作接口供调用。

这个可能是重中之中的功能，按小妮的说法来说。

这里面有个问题就是关于用户填的景色地点这块，需要确定是用户自己命名还是采用我们的统一命名。

使用统一命名的话，需要对应的接口及提示信息。

另外就是这里面让用户选择“想去”，这个是不是不妥，应该默认用户都是去过才可以上传才对的呀？不是吗？
想去的话，代表用户没有去过，没有去过又从哪获取到的景点图片信息呢？
* 修改头像接口

这个需要开发一个nodejs版的图片裁剪功能。
* 用户关注和粉丝接口实现

粉丝和关注的所呈现的信息：用户id，用户头像地址，用户名，用户签名信息
* 用户的个人信息的查询和修改接口
* 加关注及取消关注接口

#### 三、设计及其他
* 用户登录和分享icon图片

需要盛强给到设计图
* 分享文案

目前的分享文案：美丽的风景，尽在。。。(标题信息)，这块需要更好的分享文案。
* 首页增加更多的用户，替换现在的yansong用户
### 需要说明的
1. 拼游功能先不做。
